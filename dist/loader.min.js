!function(a){"use strict";function b(a,b){if("/"===a.charAt(0)&&(a=a.slice(1)),"."!==a.charAt(0))return a;for(var c=a.split("/");"."===c[0]||".."===c[0];)".."===c.shift()&&b.pop();return b.concat(c).join("/")}function c(a){var b=h[a];return b&&!g[a]&&(g[a]=!0,b.execute()),b&&b.proxy}function d(a,b){i[a]=b}function e(a){return i[a]||c(a)}function f(a){return!!i[a]||!!h[a]}var g=Object.create(null),h=Object.create(null),i=Object.create(null);a.System={set:d,get:e,has:f,"import":function(a){return new Promise(function(c,d){var f=e(b(a,[]));return f?c(f):d(new Error("Could not find module "+a))})},register:function(a,c,d){var f,g,j=Object.create(null),k=Object.create(null);h[a]=f={proxy:j,values:k,deps:c.map(function(c){return b(c,a.split("/").slice(0,-1))}),dependants:[],update:function(a,b){g.setters[f.deps.indexOf(a)](b)},execute:function(){f.deps.map(function(b){var c=i[b];c?f.update(b,c):(c=e(b)&&h[b].values,c&&(h[b].dependants.push(a),f.update(b,c)))}),g.execute()}},g=d(function(b,c){return k[b]=c,f.lock=!0,f.dependants.forEach(function(b){h[b]&&!h[b].lock&&h[b].update(a,k)}),f.lock=!1,Object.getOwnPropertyDescriptor(j,b)||Object.defineProperty(j,b,{enumerable:!0,get:function(){return k[b]}}),c})}}}(window);